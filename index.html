<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes">
    <title>직무역량 평가</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .disabled-btn {
            background: #ccc !important;
            color: #666 !important;
            cursor: not-allowed !important;
            opacity: 0.6;
        }
        
        .disabled-btn:hover {
            transform: none !important;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2) !important;
        }

        /* Home exam buttons layout */
        .exam-buttons {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        /* Home exam individual button sizing to avoid badge overlap */
        .exam-btn {
            position: relative;
            min-height: 130px;
            padding: 28px 18px 24px; /* extra top space for badge */
            overflow: hidden; /* for background pseudo element */
        }
        @media (max-width: 768px) {
            .exam-buttons { gap: 15px; padding: 15px; }
            .exam-btn { min-height: 110px; padding: 26px 14px 20px; }
        }

        /* Subtle big-year background for legacy exam buttons (2021–2024) */
        .exam-btn[data-year-full]::before {
            content: attr(data-year-full);
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            letter-spacing: -2px;
            font-size: clamp(70px, 16vw, 140px);
            color: rgba(135, 206, 235, 0.22); /* light sky blue */
            pointer-events: none;
            z-index: 0;
        }
        /* Ensure foreground content is above background year */
        .exam-btn > * { position: relative; z-index: 1; }

        /* Progress badge (top-right), like subjects page */
        :root {
            --badge-font: clamp(10px, 1.8vw, 12px);
            --badge-pad-y: clamp(2px, 0.6vw, 4px);
            --badge-pad-x: clamp(6px, 1.2vw, 10px);
            --badge-radius: 12px;
            --badge-offset: clamp(6px, 1.2vw, 10px);
        }
        .completion-badge {
            position: absolute;
            top: var(--badge-offset);
            right: var(--badge-offset);
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: #fff;
            border-radius: var(--badge-radius);
            padding: var(--badge-pad-y) var(--badge-pad-x);
            font-size: var(--badge-font);
            font-weight: 600;
            box-shadow: 0 2px 6px rgba(40,167,69,0.3);
            z-index: 10;
        }
    </style>
</head>
<body>
    <div class="quiz-container" id="quiz">
        <div class="quiz-header">
            <div class="header-center">
                <h1>직무역량 평가 문제풀이</h1>
                <div class="header-toggle">
                    <div class="mode-toggle-container-small">
                        <input type="checkbox" id="randomModeHome" class="mode-checkbox-small">
                        <label for="randomModeHome" class="mode-toggle-switch-small">
                            <span class="mode-slider-small"></span>
                        </label>
                        <span class="mode-status-text-small" id="modeStatusText">일반모드</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="exam-selection">
                <div class="exam-buttons">
                    <!-- 2025 두 버튼: 첫 행 2x1 배치 -->
                    <button onclick="location.href='2025-summaries.html'" class="exam-btn">2025 핵심요약집</button>
                    <button onclick="location.href='2025-subjects.html'" class="exam-btn">2025년 사전공개문제</button>
                    <!-- 2021~2024: 2x2 배치, 문구 간소화 -->
                    <button onclick="startExam('2021')" class="exam-btn" data-year-full="2021">'21년 필기기출</button>
                    <button onclick="startExam('2022')" class="exam-btn" data-year-full="2022">'22년 필기기출</button>
                    <button onclick="startExam('2023')" class="exam-btn" data-year-full="2023">'23년 필기기출</button>
                    <button onclick="startExam('2024')" class="exam-btn" data-year-full="2024">'24년 필기기출</button>
                </div>
            </div>
        </div>
        </div>
    </div>
    
    <!-- Powered by badge -->
    <div class="powered-by-badge">
        powered by 2170153
    </div>
    
    <script src="script.js"></script>
    
    <!-- Cache Refresh Popup Script -->
    <script>
        // Cache Refresh Popup Functions for index.html
        function showCacheRefreshPopup() {
            // Check if popup was dismissed today
            const dismissedDate = localStorage.getItem('cachePopupDismissedDate');
            const today = new Date().toDateString();
            
            if (dismissedDate === today) {
                return; // Don't show popup if dismissed today
            }
            
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            const popupHTML = `
                <div class="cache-popup-overlay" id="cachePopupOverlay">
                    <div class="cache-popup">
                        <div class="cache-popup-header" style="text-align: center;">
                            <h2 style="margin: 0 auto; text-align: center;">페이지 새로고침 안내</h2>
                        </div>
                        <div class="cache-popup-content">
                            <p>문제나 해설이 제대로 안보인다면 <strong>하드 리프레시</strong> 해보세요!</p>
                            
                            <div class="cache-refresh-instructions">
                                <div><strong>Windows:</strong> Ctrl + F5 또는 Ctrl + Shift + R</div>
                                <div><strong>Mac:</strong> Cmd + Shift + R 또는 Cmd + Option + R</div>
                                <div><strong>모바일:</strong> 브라우저 앱을 완전히 종료한 후 새 창에서 다시 접속</div>
                            </div>

                            <div style="margin-top:12px; padding-top:8px; border-top:1px solid rgba(0,0,0,0.06);">
                                <p style="margin:0 0 6px 0;"><strong style="color:#dc2626;">업데이트:</strong> <span style="color:#dc2626; font-weight:800;">2025 핵심요약집</span>을 추가했습니다. 홈에서 ‘<span style="color:#dc2626; font-weight:800;">2025 핵심요약집</span>’ 버튼으로 바로 확인할 수 있어요.</p>
                                <div style="font-size:12px; color:#7c2d12; background:#fff7ed; border:1px solid #fed7aa; padding:8px 10px; border-radius:8px; line-height:1.5;">
                                    ⚠️ 안내: 본 요약은 <strong>2025년 사전공개문제의 해설만을 기반</strong>으로 작성되었습니다. 학습 보조용으로 활용하시고, 중요한 판단은 <strong>법령 원문과 최신 개정</strong>을 반드시 확인하세요.
                                </div>
                            </div>
                        </div>
                        <div class="cache-popup-buttons">
                            <button class="cache-popup-btn secondary" onclick="dismissCachePopupForToday()">오늘 하루 안보기</button>
                            <button class="cache-popup-btn primary" onclick="closeCachePopup()">닫기</button>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', popupHTML);
            
            // Close popup when clicking overlay
            document.getElementById('cachePopupOverlay').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeCachePopup();
                }
            });
        }

        function closeCachePopup() {
            const overlay = document.getElementById('cachePopupOverlay');
            if (overlay) {
                overlay.style.animation = 'fadeOut 0.3s ease-out';
                setTimeout(() => {
                    overlay.remove();
                }, 300);
            }
        }

        function dismissCachePopupForToday() {
            const today = new Date().toDateString();
            localStorage.setItem('cachePopupDismissedDate', today);
            closeCachePopup();
        }

        // Show popup when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Delay popup show to avoid interference with page initialization
            setTimeout(showCacheRefreshPopup, 1500);
        });
    </script>
</body>
</html>
